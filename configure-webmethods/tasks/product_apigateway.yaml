---

- name: tasks for set_process_memory
  block:

    - import_role:
        name: configure-apigateway
      vars:
        configs_action: set-jvm-memory
        apigateway_jvm_heap_min: "{{ process_memory_min }}"
        apigateway_jvm_heap_max: "{{ process_memory_max }}"

  when: configure_setting == "set_process_memory"

- name: tasks for set_process_params
  block:

    - import_role:
        name: configure-apigateway
      vars:
        configs_action: set-jvm-common

    - import_role:
        name: configure-apigateway
      vars:
        configs_action: set-jvm-params
        apigateway_jvm_params: "{{ process_params }}"

  when: configure_setting == "set_process_params"