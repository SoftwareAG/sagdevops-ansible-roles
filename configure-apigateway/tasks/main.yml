---

- name: Print the params
  debug:
    msg: "Running configure-apigateway with action {{ configs_action | default('undefined') }}"
  when: configs_enabled | default('true',true) | bool

- name: Print the params
  debug:
    msg: "Requested configure-apigateway with action {{ configs_action | default('undefined') }} but will not run due to configs_enabled == false"
  when: configs_enabled | default('true',true) | bool == false

- name: fail if configs_action not specified
  fail: 
    msg: "configs_action not specified...cannot do anything."
  when: configs_action is not defined or configs_action == ""

- name: Include tasks
  include_tasks: "do_{{ configs_action }}.yml"
  when: configs_enabled | default('true',true) | bool